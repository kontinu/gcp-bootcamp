
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="GCP Bootcamp.">
      
      
      
        <meta name="author" content="Marcos Cano">
      
      
      <link rel="icon" href="../static/images/brain.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.3">
    
    
      
        <title>Lab 2Ô∏è‚É£ - gcp.bootcamp</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.e35208c4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ef6f36e2.min.css">
        
          
          
          <meta name="theme-color" content="#546d78">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Space+Mono:300,400,400i,700%7CInconsolata&display=fallback">
        <style>:root{--md-text-font-family:"Space Mono";--md-code-font-family:"Inconsolata"}</style>
      
    
    
    
      <link rel="stylesheet" href="../static/css/extra.css">
    
      <link rel="stylesheet" href="../static/css/contact_form.css">
    
      <link rel="stylesheet" href="https://unpkg.com/mermaid/dist/mermaid.css">
    
      <link rel="stylesheet" href="../static/css/asciinema-player.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="blue-grey" data-md-color-accent="deep-orange">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#2-gce" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="gcp.bootcamp" class="md-header__button md-logo" aria-label="gcp.bootcamp" data-md-component="logo">
      
  <img src="../static/img/google-cloud.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            gcp.bootcamp
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lab 2Ô∏è‚É£
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/kontinu/gcp-bootcamp.git" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    gcp.bootcamp
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="gcp.bootcamp" class="md-nav__button md-logo" aria-label="gcp.bootcamp" data-md-component="logo">
      
  <img src="../static/img/google-cloud.png" alt="logo">

    </a>
    gcp.bootcamp
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/kontinu/gcp-bootcamp.git" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    gcp.bootcamp
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home üè†
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        Labs üß™
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Labs üß™" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Labs üß™
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../labs/" class="md-nav__link">
        Home üè†
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../1.gcs-www/" class="md-nav__link">
        Lab 1Ô∏è‚É£
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../x.from-cloud-shell/" class="md-nav__link">
        Extra üöÄ
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Lab 2Ô∏è‚É£
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Lab 2Ô∏è‚É£
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pre-requisites" class="md-nav__link">
    Pre requisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hello-world-on-compute-engine" class="md-nav__link">
    Hello World on Compute Engine.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plan" class="md-nav__link">
    Plan
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-create-a-vm-on-gce" class="md-nav__link">
    1. Create a VM on GCE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-install-python3-andor-nodejs-on-the-vm" class="md-nav__link">
    2. Install python3 and/or node.js on the VM
  </a>
  
    <nav class="md-nav" aria-label="2. Install python3 and/or node.js on the VM">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#common-packages" class="md-nav__link">
    Common packages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python3" class="md-nav__link">
    Python3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodejs" class="md-nav__link">
    Node.js
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-setup-hello-world-app-provided-in-the-repo" class="md-nav__link">
    3. Setup hello-world app provided in the repo.
  </a>
  
    <nav class="md-nav" aria-label="3. Setup hello-world app provided in the repo.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    python
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodejs_1" class="md-nav__link">
    node.js
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-run-the-app-and-expose-it-on-a-public-ip-address" class="md-nav__link">
    4. Run the app and expose it on a public IP address.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-can-we-scale" class="md-nav__link">
    5. Can we scale?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-containers-on-gce" class="md-nav__link">
    6. Containers on GCE
  </a>
  
    <nav class="md-nav" aria-label="6. Containers on GCE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    Further Reading
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../3.gke/" class="md-nav__link">
        Lab 3Ô∏è‚É£
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../4.app-engine/" class="md-nav__link">
        Lab 4Ô∏è‚É£
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../5.run/" class="md-nav__link">
        Lab 5Ô∏è‚É£
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pre-requisites" class="md-nav__link">
    Pre requisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hello-world-on-compute-engine" class="md-nav__link">
    Hello World on Compute Engine.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plan" class="md-nav__link">
    Plan
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-create-a-vm-on-gce" class="md-nav__link">
    1. Create a VM on GCE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-install-python3-andor-nodejs-on-the-vm" class="md-nav__link">
    2. Install python3 and/or node.js on the VM
  </a>
  
    <nav class="md-nav" aria-label="2. Install python3 and/or node.js on the VM">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#common-packages" class="md-nav__link">
    Common packages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python3" class="md-nav__link">
    Python3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodejs" class="md-nav__link">
    Node.js
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-setup-hello-world-app-provided-in-the-repo" class="md-nav__link">
    3. Setup hello-world app provided in the repo.
  </a>
  
    <nav class="md-nav" aria-label="3. Setup hello-world app provided in the repo.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    python
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodejs_1" class="md-nav__link">
    node.js
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-run-the-app-and-expose-it-on-a-public-ip-address" class="md-nav__link">
    4. Run the app and expose it on a public IP address.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-can-we-scale" class="md-nav__link">
    5. Can we scale?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-containers-on-gce" class="md-nav__link">
    6. Containers on GCE
  </a>
  
    <nav class="md-nav" aria-label="6. Containers on GCE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    Further Reading
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <p>Under Construction üöß</p>
<h1 id="2-gce">2. GCE<a class="headerlink" href="#2-gce" title="Permanent link">&para;</a></h1>
<h3 id="pre-requisites">Pre requisites<a class="headerlink" href="#pre-requisites" title="Permanent link">&para;</a></h3>
<ul>
<li>have a basic understanding of linux OS.</li>
<li>have a basic understanding of bash scripting.</li>
<li>use package managers or have a basic understanding of how to install packages.</li>
</ul>
<h3 id="hello-world-on-compute-engine">Hello World on Compute Engine.<a class="headerlink" href="#hello-world-on-compute-engine" title="Permanent link">&para;</a></h3>
<p>Compute Engine lets you create and run virtual machines on Google infrastructure. Compute Engine provides control of every component but also assumes it‚Äôs your responsibility to keep things running. With VMs, you obviously need to go ahead and install/configure your own web hosting stack from scratch (and also decide how to provide for load balancing and scalability, from a variety of options.)</p>
<p>The GCP documentation looks extremely useful, but who starts by reading the manual? Google Search to the rescue:</p>
<ul>
<li>‚Äúgoogle compute engine create a vm‚Äù</li>
<li>‚Äúgoogle compute engine ssh into vm‚Äù</li>
<li>‚Äúinstall python linux‚Äù</li>
<li>‚Äúhello world python‚Äù</li>
<li>‚Äúhello world python google compute engine‚Äù‚Ä¶</li>
</ul>
<h3 id="plan">Plan<a class="headerlink" href="#plan" title="Permanent link">&para;</a></h3>
<ul>
<li>Create a VM on GCE (Linux obviously)</li>
<li>Install python3 and/or node.js on the VM.</li>
<li>Setup hello-world app provided in the repo.</li>
<li>Run the app and expose it on a public IP address.</li>
<li>Can we scale?</li>
</ul>
<p><img alt="app GCE" src="../static/img/app-gce.png" /></p>
<h2 id="1-create-a-vm-on-gce">1. Create a VM on GCE<a class="headerlink" href="#1-create-a-vm-on-gce" title="Permanent link">&para;</a></h2>
<p>Navigate to VM Instances page in Google Cloud Console and go through the setup process.</p>
<ul>
<li>Instance name: changed to helloworld-vm</li>
<li>Machine type: changed to small (1 shared vCPU, 1.7 GB memory)</li>
<li>Zone: changed to us-west-a (I am based in Seattle, so selected one of the ‚Äòwest‚Äô options available)</li>
<li>Boot disk: Google Debian GNU/Linux 9 (default)</li>
<li>Firewall: checked to allow both HTTP and HTTPS traffic</li>
</ul>
<div class="admonition pricing">
<p class="admonition-title">Pricing</p>
<p>$14.20 per month estimated.</p>
</div>
<p>Hit the Create button. The VM instance is up and running in literally a few seconds.</p>
<ul>
<li>Connect via SSH.</li>
</ul>
<p>if you prefer to use gcloud, you can use:</p>
<ul>
<li>SSH üîΩ: View gcloud command</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>gcloud compute --project <span class="s2">&quot;kontinu&quot;</span> ssh --zone <span class="s2">&quot;us-west1-a&quot;</span> <span class="s2">&quot;helloworld-vm&quot;</span>
</code></pre></div>
</td></tr></table>
<h2 id="2-install-python3-andor-nodejs-on-the-vm">2. Install python3 and/or node.js on the VM<a class="headerlink" href="#2-install-python3-andor-nodejs-on-the-vm" title="Permanent link">&para;</a></h2>
<h3 id="common-packages">Common packages<a class="headerlink" href="#common-packages" title="Permanent link">&para;</a></h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>sudo apt-get update
sudo apt-get install -y curl git
</code></pre></div>
</td></tr></table>
<h3 id="python3">Python3<a class="headerlink" href="#python3" title="Permanent link">&para;</a></h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>sudo apt-get update
sudo apt-get install -y python3 python3-pip
python --version
pip --version
</code></pre></div>
</td></tr></table>
<h3 id="nodejs">Node.js<a class="headerlink" href="#nodejs" title="Permanent link">&para;</a></h3>
<p>Google Search: "Installing Node.js Tutorial: Debian Linux"</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>sudo apt-get update
sudo curl -sL https://deb.nodesource.com/setup_14.x | sudo -E bash -
sudo apt-get install -y nodejs

node --version
npm --version
</code></pre></div>
</td></tr></table>
<h2 id="3-setup-hello-world-app-provided-in-the-repo">3. Setup hello-world app provided in the repo.<a class="headerlink" href="#3-setup-hello-world-app-provided-in-the-repo" title="Permanent link">&para;</a></h2>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>git clone https://github.com/kontinu/gcp-bootcamp.git
cd gcp-bootcamp/src
</code></pre></div>
</td></tr></table>
<h3 id="python">python<a class="headerlink" href="#python" title="Permanent link">&para;</a></h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>cd python/
pip3 install -r requirements.txt
python3 app.py
</code></pre></div>
</td></tr></table>
<h3 id="nodejs_1">node.js<a class="headerlink" href="#nodejs_1" title="Permanent link">&para;</a></h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>cd nodejs/
npm install

node app.js
</code></pre></div>
</td></tr></table>
<hr />
<h2 id="4-run-the-app-and-expose-it-on-a-public-ip-address">4. Run the app and expose it on a public IP address.<a class="headerlink" href="#4-run-the-app-and-expose-it-on-a-public-ip-address" title="Permanent link">&para;</a></h2>
<p>I search on <a href="https://www.google.com/search?q=google+compute+engine+open+firewall+ports">‚Äúgoogle compute engine open firewall ports‚Äù</a>, which brings me to <a href="https://stackoverflow.com/questions/21065922/how-to-open-a-specific-port-such-as-9090-in-google-compute-engine">StackOverflow</a>. Then I open port 8080 for both http and https using Cloud Console (Networking &gt; VPC Network):</p>
<p>???
    note: change https:// to http://</p>
<h2 id="5-can-we-scale">5. Can we scale?<a class="headerlink" href="#5-can-we-scale" title="Permanent link">&para;</a></h2>
<p>Compute Engine does offer <a href="https://cloud.google.com/compute/docs/load-balancing-and-autoscaling">load balancing and autoscaling for groups of instances</a> but it requires additional setup, maintenance, as well as general understanding of scalable web architectures and distributed systems design</p>
<p><img alt="MIG" src="../static/img/mig-overview.png" /></p>
<p>Things to consider:
- instance templates
- Startup-scripts
- <a href="https://cloud.google.com/compute/docs/instance-groups">MIG</a>
- <a href="https://cloud.google.com/compute/docs/tutorials/high-availability-load-balancing">Tutorial</a></p>
<h2 id="6-containers-on-gce">6. Containers on GCE<a class="headerlink" href="#6-containers-on-gce" title="Permanent link">&para;</a></h2>
<p>Install Docker üê≥</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>curl -fsSL https://get.docker.com -o get-docker.sh
sh get-docker.sh


sudo curl -L &quot;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose

sudo chmod +x /usr/local/bin/docker-compose
</code></pre></div>
</td></tr></table>
<p>Startup the application</p>
<p>Using docker:
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>docker build -f src/python/Dockerfile -t helloworld-python:latest src/python
docker run -it -p 8080:8080 helloworld-python:latest
</code></pre></div>
</td></tr></table></p>
<p>Using docker-compose
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>docker-compose up --build
</code></pre></div>
</td></tr></table></p>
<h3 id="further-reading">Further Reading<a class="headerlink" href="#further-reading" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://cloud.google.com/compute/docs/tutorials/basic-webserver-apache">https://cloud.google.com/compute/docs/tutorials/basic-webserver-apache</a> &rarr;</li>
</ul>
<details class="note"><summary>Note</summary><p>credits to Dmytro Meinyk</p>
</details>
                
                  
                    

<hr>
<div class="md-source-date">
  <small>
    
      Last update: 2021-09-15
    
  </small>
</div>
                  
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../x.from-cloud-shell/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Extra üöÄ
            </div>
          </div>
        </a>
      
      
        <a href="../3.gke/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Lab 3Ô∏è‚É£
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2021 Marcos Cano
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.4ea5477f.min.js"></script>
      
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
      
        <script src="../static/js/asciinema-player.js"></script>
      
    
  </body>
</html>